(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{11:function(e,a,t){},12:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),c=t.n(l),o=(t(11),t(1));function s(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__logo"}))}function i(e){return r.a.createElement("div",{className:"elements__item"},r.a.createElement("img",{src:e.card.link,className:"elements__image",alt:e.card.name,onClick:function(){e.onPreviewOpen(e.card)}}),r.a.createElement("div",{className:"elements__trash"}),r.a.createElement("div",{className:"elements__title-container"},r.a.createElement("h2",{className:"elements__title"},e.card.name),r.a.createElement("div",{className:"elements__like-wrapper"},r.a.createElement("button",{className:"elements__like",type:"button"}),r.a.createElement("p",{className:"elements__like-number"},e.card.likes.length))))}var m=t(4),u=t(5),p=new(function(){function e(a){var t=a.url,n=a.headers;Object(m.a)(this,e),this._url=t,this._headers=n}return Object(u.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"saveUserData",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"putLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"avatarChange",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then(this._handleResponse)}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-14",headers:{authorization:"53f63733-0798-40e6-804e-4dfb424b0ce2","Content-Type":"application/json"}});function _(e){var a=r.a.useState(""),t=Object(o.a)(a,2),n=t[0],l=t[1],c=r.a.useState(""),s=Object(o.a)(c,2),m=s[0],u=s[1],_=r.a.useState(""),d=Object(o.a)(_,2),h=d[0],f=d[1],E=r.a.useState([]),v=Object(o.a)(E,2),N=v[0],b=v[1];return r.a.useEffect((function(){Promise.all([p.getUserData(),p.getInitialCards()]).then((function(e){var a=Object(o.a)(e,2),t=a[0],n=a[1];l(t.name),u(t.about),f(t.avatar),b(n)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__wrapper",onClick:e.onEditAvatar},r.a.createElement("div",{className:"profile__avatar profile__reset",style:{backgroundImage:"url(".concat(h,")")}})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__name"},n),r.a.createElement("button",{className:"profile__edit-button profile__reset",type:"button",onClick:e.onEditProfile}),r.a.createElement("p",{className:"profile__label"},m)),r.a.createElement("button",{className:"profile__add-button profile__reset",type:"button",onClick:e.onAddPlace})),r.a.createElement("section",{className:"elements"},N.map((function(a){return r.a.createElement(i,{onPreviewOpen:e.onPreviewOpen,card:a,key:a._id})}))))}function d(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Mesto Russia"))}function h(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen&&"popup__opened")},r.a.createElement("form",{className:"popup__container form",name:e.name,noValidate:!0},r.a.createElement("button",{className:"popup__close-button",type:"button",onClick:e.onClose}),r.a.createElement("h2",{className:"popup__title"},e.title),e.children,r.a.createElement("button",{className:"popup__save-button form__submit"},e.button))))}function f(e){return r.a.createElement("div",{className:"image-preview ".concat(e.card&&"popup__opened")},r.a.createElement("div",{className:"image-preview__container"},r.a.createElement("button",{className:"popup__close-button",type:"button",onClick:e.onClose}),r.a.createElement("img",{src:e.card?e.card.link:"",className:"image-preview__item",alt:e.card?e.card.name:""}),r.a.createElement("h2",{className:"image-preview__title"},e.card?e.card.name:"")))}var E=function(){var e=r.a.useState(!1),a=Object(o.a)(e,2),t=a[0],n=a[1],l=r.a.useState(!1),c=Object(o.a)(l,2),i=c[0],m=c[1],u=r.a.useState(!1),p=Object(o.a)(u,2),E=p[0],v=p[1],N=r.a.useState(),b=Object(o.a)(N,2),g=b[0],k=b[1];function y(){v(!1),n(!1),m(!1),k(void 0)}return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"page"},r.a.createElement(s,null),r.a.createElement(_,{onEditProfile:function(){n(!0)},onAddPlace:function(){m(!0)},onEditAvatar:function(){v(!0)},onPreviewOpen:function(e){k(e)}}),r.a.createElement(h,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"profile",button:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:y},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form__field"},r.a.createElement("input",{className:"popup__profile popup__profile_name form__input",name:"name",minLength:"2",maxLength:"40",placeholder:"\u0418\u043c\u044f",required:!0}),r.a.createElement("span",{className:"form__input-error"})),r.a.createElement("div",{className:"form__field"},r.a.createElement("input",{className:"popup__profile popup__profile_label form__input",minLength:"2",maxLength:"200",name:"about",placeholder:"\u0417\u0430\u043d\u044f\u0442\u0438\u0435",required:!0}),r.a.createElement("span",{className:"form__input-error"})))),r.a.createElement(h,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add",button:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:i,onClose:y},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form__field"},r.a.createElement("input",{className:"popup__profile popup__profile_name form__input",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"1",maxLength:"30",required:!0}),r.a.createElement("span",{className:"form__input-error"})),r.a.createElement("div",{className:"form__field"},r.a.createElement("input",{className:"popup__profile popup__profile_label form__input",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",type:"url",required:!0}),r.a.createElement("span",{className:"form__input-error"})))),r.a.createElement(h,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar",button:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:E,onClose:y},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form__field"},r.a.createElement("input",{className:"popup__profile popup__profile_label form__input",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",type:"url",required:!0}),r.a.createElement("span",{className:"form__input-error"})))),r.a.createElement(h,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete",button:"\u0414\u0430"}),r.a.createElement(f,{card:g,onClose:y}),r.a.createElement(d,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,a,t){e.exports=t(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.4e6e0760.chunk.js.map